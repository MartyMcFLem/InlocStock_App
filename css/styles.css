/**
 * InlocStock - Styles principaux
 * Application PWA de gestion de stock
 */

/* Support des zones sûres pour les écrans modernes */
:root {
    --safe-area-inset-top: env(safe-area-inset-top, 0px);
    --safe-area-inset-right: env(safe-area-inset-right, 0px);
    --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-inset-left: env(safe-area-inset-left, 0px);
    --header-height: calc(4rem + env(safe-area-inset-top, 0px));
}

/* Base HTML & Body */
html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
}

body {
    min-height: 100dvh;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    width: 100%;
    background-color: #4F46E5;
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
}

body.dark,
html.dark body {
    background-color: #111827;
}

/* Header fixé en haut avec safe-area - doit commencer à 0 sans espace */
header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    padding-top: env(safe-area-inset-top, 0px);
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
    z-index: 50;
    background-color: #4F46E5;
    margin: 0;
}

html.dark header,
body.dark header {
    background-color: #111827;
}

header > div {
    padding-top: 1rem;
    padding-bottom: 1rem;
}

/* Logo dans le header */
header img[alt="Inloc Logo"] {
    height: 2rem;
    width: auto;
    object-fit: contain;
}

/* Navigation du bas adaptée */
nav.fixed.bottom-0 {
    padding-bottom: calc(env(safe-area-inset-bottom, 0px)) !important;
}

/* Contenu principal avec padding adaptatif */
#mainContent {
    margin-top: var(--header-height);
    padding-bottom: calc(6rem + env(safe-area-inset-bottom, 0px)) !important;
    background-color: white;
    min-height: calc(100dvh - var(--header-height));
}

body.dark #mainContent {
    background-color: #111827;
    color: white;
}

/* Styles Dark Mode globaux */
body.dark .bg-white {
    background-color: #1F2937 !important;
}

body.dark .text-gray-800 {
    color: white !important;
}

body.dark .text-gray-700 {
    color: #D1D5DB !important;
}

body.dark .text-gray-500 {
    color: #9CA3AF !important;
}

body.dark .bg-gray-100 {
    background-color: #374151 !important;
}

body.dark .border-gray-200 {
    border-color: #374151 !important;
}

body.dark .shadow {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.5) !important;
}

body.dark .bg-indigo-100 {
    background-color: #312E81 !important;
}

body.dark .bg-green-100 {
    background-color: #064E3B !important;
}

body.dark .bg-orange-100 {
    background-color: #7C2D12 !important;
}

body.dark .bg-blue-100 {
    background-color: #1E3A8A !important;
}

/* Animations */
@keyframes slideIn {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.slide-in {
    animation: slideIn 0.3s ease-out;
}

@keyframes scan {
    0% { top: 0; }
    50% { top: 100%; }
    100% { top: 0; }
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Scanner */
.scanner-frame {
    position: relative;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}

.scanner-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 2px solid #3b82f6;
    border-radius: 12px;
    box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
}

.scan-line {
    position: absolute;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3b82f6, transparent);
    animation: scan 2s linear infinite;
}

/* Indicateur de chargement simple - même couleur que le body */
#appLoader {
    position: fixed;
    inset: 0;
    background: #4F46E5;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    transition: opacity 0.3s;
    margin: 0;
    padding: 0;
}

html.dark #appLoader,
body.dark #appLoader {
    background: #111827;
}

#appLoader.loaded {
    opacity: 0;
    pointer-events: none;
}

.loader-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(255, 255, 255, 0.2);
    border-top-color: #3b82f6;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}
